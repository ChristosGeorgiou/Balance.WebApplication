<common-sidebar>
  <div class="menu">
    <div class="header">
      <h4>Projects</h4>
    </div>
    <div class="items">
      <a routerLinkActive="active" [routerLink]="['overview']">
        <fa-icon [icon]="['fas','desktop']" class="icon"></fa-icon>
        <span>Overview</span>
      </a>
      <a routerLinkActive="active" [routerLink]="['manage']">
        <fa-icon [icon]="['fas','th-list']" class="icon"></fa-icon>
        <span>Manage</span>
      </a>
      <button (click)="createTask()">
        <fa-icon [icon]="['fas','plus-circle']" class="icon"></fa-icon>
        <span>New Task</span>
      </button>
      <div class="divider"></div>
      <button (click)="generateDump()">
        <fa-icon [icon]="['fas','plus-circle']" class="icon"></fa-icon>
        <span>Generate Data</span>
      </button>
    </div>
  </div>
  <div class="menu mt-auto">
    <div class="header">
      <h4>Latest Tasks</h4>
    </div>
    <div class="items">
      <ng-container *ngIf="tasks.length; else noItems">
        <a routerLinkActive="active" [routerLink]="['/tasks',task._id]" *ngFor="let task of tasks | slice:0:5;">
          <div class="d-flex flex-column">
            <span>{{task.title || '[Without title]'}}</span>
            <small class="text-muted">{{task.insertedAt | amTimeAgo}}</small>
          </div>
        </a>
      </ng-container>
    </div>
  </div>
</common-sidebar>
<router-outlet></router-outlet>

<ng-template #noItems>
  You don't have any tasks yet
</ng-template>
<ng-template #loader>
  <common-loader></common-loader>
</ng-template>
