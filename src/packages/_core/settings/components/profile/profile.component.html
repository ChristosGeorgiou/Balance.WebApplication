<common-content>
  <common-content-header [title]="profileName" [subtitle]="profileAlias" icon="cog"></common-content-header>
  <common-content-body>

    <div class="row">
      <div class="col-lg-3">
        <div class="mb-4">
          <button (click)="activate()" class="btn btn-lg btn-primary btn-block">Activate Profile</button>
        </div>
        <div class="card border-primary mb-4">
          <div class="card-body">
            <h5 class="card-title">Info</h5>
            <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur similique consectetur adipisci placeat
              nam autem magnam nulla molestiae et beatae quidem repellat, blanditiis odit vel, accusamus id in, aperiam ullam!</p>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <fieldset>
          <h5>Profile details</h5>
          <div class="form-group">
            <label>Profile Name
              <small class="text-muted">required</small>
            </label>
            <input autocomplete="false" [(ngModel)]="profileEdit.name" class="form-control">
          </div>
          <div class="d-flex">
            <button class="btn btn-primary ml-auto" (click)="save()">
              <span class="far fa-save fa-fw"></span> Save</button>
          </div>
        </fieldset>
        <fieldset>
          <h5>Remote database</h5>
          <div class="form-group">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" [(ngModel)]="profileEdit.remote.enableSync">
              <label class="form-check-label" for="defaultCheck1">
                Enable real-time synchronization with remote.
              </label>
            </div>
            <small id="passwordHelpBlock" class="form-text text-muted">
              Use this option for make real-time backup of your data and access the same data from multiple devices. Some modules may require
              this option to work.
            </small>
          </div>
          <div class="form-group row">
            <label class="col-3 col-form-label text-right">Host</label>
            <div class="col-9">
              <input autocomplete="false" [disabled]="!profileEdit.remote.enableSync" [(ngModel)]="profileEdit.remote.host" class="form-control">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-3 col-form-label text-right">Prefix</label>
            <div class="col-9">
              <input autocomplete="false" [disabled]="!profileEdit.remote.enableSync" [(ngModel)]="profileEdit.remote.prefix" class="form-control">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-3 col-form-label text-right">Username</label>
            <div class="col-9">
              <input autocomplete="false" [disabled]="!profileEdit.remote.enableSync" [(ngModel)]="profileEdit.remote.username" class="form-control">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-3 col-form-label text-right">Password</label>
            <div class="col-9">
              <input autocomplete="false" [disabled]="!profileEdit.remote.enableSync" [(ngModel)]="profileEdit.remote.password" class="form-control"
                type="password">
            </div>
          </div>
          <div class="d-flex">
            <button class="btn btn-primary ml-auto" (click)="save()">
              <span class="far fa-save fa-fw"></span> Save</button>
          </div>
        </fieldset>

        <fieldset>
          <h5>Modules</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex align-items-center px-0" *ngFor="let module of modules">
              <input type="checkbox" [(ngModel)]="profileEdit.modules[module.id]" class="m-3">
              <div class="flex-grow-1">
                {{module.title}}
                <em>
                  <small class="text-muted">{{module.id}}</small>
                </em>
                <small class="badge badge-success ml-2" *ngIf="activeModules[module.id]">ACTIVE</small>
                <br>
                <small class="text-muted" *ngIf="module.description">{{module.description}}</small>
              </div>
              <button type="button" class="btn btn-outline-primary btn-sm">
                <fa-layers class="fa-fw">
                  <fa-icon [icon]="['fas','cog']"></fa-icon>
                </fa-layers>
              </button>
            </li>
          </ul>
          <div class="d-flex">
            <button class="btn btn-primary ml-auto" (click)="save()">
              <span class="far fa-save fa-fw"></span> Save</button>
          </div>
        </fieldset>

        <fieldset>
          <h5>Backup / Restore</h5>
          <p>You may export all profile data to json format as a backup or to move them to more clients.</p>
          <div class="d-flex justify-content-center">
            <button class="btn btn-outline-primary mr-2" (click)="backup()" disabled>
              <fa-layers class="fa-fw">
                <fa-icon [icon]="['fas','cloud-download-alt']"></fa-icon>
              </fa-layers>
              Backup
            </button>
            <button class="btn btn-outline-primary" (click)="restore()" disabled>
              <fa-layers class="fa-fw">
                <fa-icon [icon]="['fas','cloud-upload-alt']"></fa-icon>
              </fa-layers>
              Restore
            </button>
          </div>
        </fieldset>

        <fieldset>
          <h5>Danger Zone</h5>
          <p>By deleting your profile, you immediately remove all local data(at your client). If you would like also to delete
            the remote data please check the option below. If you do not delete remote data, all data will be synced once
            this profile is recreated.</p>
          <div class="d-flex">
            <div class="d-flex flex-column">
              <div class="form-group form-check m-0">
                <input type="checkbox" class="form-check-input" id="deleteData" [(ngModel)]="deleteData">
                <label class="form-check-label" for="deleteData">Î™ understand that this is not reversable</label>
              </div>
              <div class="form-group form-check m-0">
                <input type="checkbox" class="form-check-input" id="deleteDataRemote" [(ngModel)]="deleteDataRemote">
                <label class="form-check-label" for="deleteDataRemote">Also delete remote data</label>
              </div>
            </div>
            <div class="ml-auto d-flex align-items-center">
              <button class="btn btn-danger" [disabled]="!deleteData" (click)="delete()">
                <fa-layers class="fa-fw">
                  <fa-icon [icon]="['fas','trash-alt']"></fa-icon>
                </fa-layers>
                Delete</button>
            </div>
          </div>
        </fieldset>
      </div>
    </div>

  </common-content-body>
</common-content>
