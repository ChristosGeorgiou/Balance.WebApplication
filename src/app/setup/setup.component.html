<div class="wrapper">
  <div class="box">
    <div class="card">
      <div class="breadcrumb" style="overflow-x:auto;" *ngIf="stepIndex != 0">
        <div style="min-width: 350px;">
          <span class="breadcrumb-item" *ngFor="let step of steps; let i = index;"
            [ngClass]="{active: stepIndex === i }">
            {{step.label}}</span>
        </div>
      </div>

      <div class="card-body overflow-hidden" *ngIf="steps[stepIndex].label=='Setup'">
        <div class="text-center">
          <h1 class="display-4 mt-4">Balnc Setup</h1>
        </div>
        <div class="alert alert-warning text-center">
          <strong>WARNING: UNDER DEVELOPMENT AND NOT READY FOR PRODUCTION USE</strong>
        </div>
        <p>Balnc (balance) is an free open source business management suite for small companies and freelancers. It is
          included a collection of business modules and also provides the tools for extend them or build new ones.</p>
        <p>All features and modules are running local at the users machine. This improves speed of loading any
          part of the app to magnitute similar of the old buisness installable applications.</p>
        <p> Even the data of the app is stored at the client, in a local database. It is not require a database
          server for storing data. As so, data are store at the user's machine and are not visible to any third
          parties and the speed is improved even more.</p>
      </div>

      <div class="card-body" *ngIf="steps[stepIndex].label=='Profile'">

        <div class="alert alert-info">
          <h4>What is profile?</h4>
          <p>
            Profile is a group of settings and data. Every profile is like another setup of its own plugins and
            configuration. Your data are stored in the browser and are not by default synced to any server. You
            should
            keep backups or enable sync mode with a backup server.
          </p>
        </div>

        <div class="form-group">
          <input autocomplete="false" [(ngModel)]="profile.name" class="form-control form-control-lg"
            placeholder="Enter a profile name...">
        </div>
        <ul class="list-unstyled text-center">
          <li>
            <a href="javascript:" ngxFilePicker accept="application/json" (filePick)="importFile($event)">Import</a>
            from file</li>
          <li>
            <a href="javascript:" (click)="addDemo()">Start</a> with a demo profile</li>
        </ul>
      </div>

      <div class="card-body" *ngIf="steps[stepIndex].label=='Plugins'">
        <div class="list-settings">
          <div class="list-settings-item" *ngFor="let p of plugins">
            <fa-icon [icon]="p.icon" class="list-settings-icon bg-dark rounded text-center"
              style="min-width: 60px; line-height:60px;" [ngStyle]="{color:p.color}"></fa-icon>
            <div class="list-settings-content">
              <h5>{{p.title}}</h5>
              <small class="text-muted">{{p.description}}</small>
            </div>
            <button class="btn btn-action"
              [ngClass]="{'btn-outline-primary':!profile.plugins[p.id],'btn-outline-danger':profile.plugins[p.id]}"
              (click)="switchStatus(p.id)">
              {{profile.plugins[p.id]?'Deactivate':'Activate'}}
            </button>
          </div>
        </div>
      </div>

      <div class="card-body" *ngIf="steps[stepIndex].label=='Finish'">
        <pre class="preview">{{profile|json:2}}</pre>
      </div>

      <div class="card-footer p-2">
        <button class="btn btn-light" (click)="back()" *ngIf="stepIndex != 0">
          <fa-icon [icon]="['fas','angle-left']"></fa-icon>
          Back
        </button>
        <button class="btn btn-primary float-right" (click)="next()" *ngIf="stepIndex !== steps.length - 1">
          Next
          <fa-icon [icon]="['fas','angle-right']"></fa-icon>
        </button>
        <button class="btn btn-primary float-right" (click)="finish()" *ngIf="stepIndex === steps.length - 1">
          Finish
        </button>
      </div>
    </div>
  </div>
  <div class="footer">
    <ul class="list-inline m-0">
      <li class="list-inline-item">Balnc v{{configService.version}}</li>
      <li class="list-inline-item">
        <a href="https://github.com/christosgeorgiou/balnc" target="_blank" rel="noopener" class="text-muted">
          source
        </a>
      </li>
      <li class="list-inline-item">
        <a href="https://github.com/ChristosGeorgiou/balnc/blob/master/LICENSE" target="_blank" rel="noopener"
          class="text-muted">
          license
        </a>
      </li>
    </ul>
  </div>
</div>
