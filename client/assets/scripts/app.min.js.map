{"version":3,"sources":["contacts/_module.js","contacts/company.view/_common/routes.js","contacts/company.view/_common/modals.js","contacts/company.view/_common/controller.js","contacts/company.view/_common/constants.js","contacts/company.view/transactions/controller.js","contacts/company.view/transactions/constants.js","contacts/company.view/persons/controller.js","contacts/company.view/overview/controller.js","contacts/company.view/map/controller.js","contacts/company.view/files/controller.js","contacts/company.view/editlogo/controller.js","_common/_module.js","_common/services/account.service.js","_common/helpers/route.helper.js","_common/helpers/modal.helper.js","_common/helpers/config.helper.js","_common/filters/numberfixedlen.js","_common/filters/join.js","_common/filters/fromnow.js","_common/filters/fileicon.js","_common/filters/bytes.js","_common/directives/pwcheck.js","_common/directives/pushmenu.js","_common/directives/ngthumb.js","_common/directives/ngprint.js","_common/directives/errsrc.js","_common/directives/confirm.js","_common/directives/adminlte.js","_common/controllers/app.controller.js","_common/constants/topmenu.js","_common/configs/routes.config.js","_common/configs/location.config.js","_common/configs/http.config.js","users/_module.js","users/_common/routes.js","users/_common/modals.js","users/overview/controller.js","users/init/controller.js","users/details/controller.js","settings/module.js","users/changepassword/controller.js","static/module.js","static/_common/routes.js","settings/_common/service.js","settings/_common/routes.js","settings/_common/modals.js","settings/general/controller.js","invoices/_module.js","invoices/_common/routes.js","invoices/overview/controller.js","invoices/invoice/controller.js","files/module.js","files/_common/modals.js","files/add/controller.js","contacts/_topmenu/controller.js","contacts/_common/routes.js","contacts/_common/modals.js","contacts/person.add/controller.js","contacts/overview/controller.js","contacts/company.add/controller.js","config/_module.js","config/_common/routes.js","auth/_module.js","auth/_common/routes.js","auth/_common/interceptor.js","auth/_common/constants.js","auth/logout/controller.js","auth/login/controller.js","register/_module.js","register/routes.js","register/controller.js","dashboard/_module.js","dashboard/routes.js","dashboard/controller.js","app.js","run.js"],"names":["angular","module","RoutesConfig","configHelper","routerHelper","configureStates","getStates","state","config","abstract","url","templateUrl","controller","title","run","CompanyModals","modalHelper","getModals","modal","size","configureModals","factory","$inject","ContactsCompanyController","$stateParams","Company","CompanyTabs","activate","vm","findById","id","EditLogo","this","Tabs","Print","docDefinition","content","pdfMake","createPdf","open","constant","heading","icon","route","class","ContactsCompanyTransactionsController","Transaction","DataFilters","ChartGroups","LoadTransactions","loading","find","filter","$promise","then","data","_total","_","each","transaction","amount","total","Transactions","ReloadChart","finally","console","log","chart","params","group","labels","grouped_transactions","groupBy","moment","date","format","value","transactions","keydate","_date_total","reduce","Math","round","push","where","companyId","order","options","bezierCurve","datasetFill","one_month","alias","label","three_months","all","daily","weekly","monthly","ContactsCompanyPersonsController","Person","_loadPersons","Persons","ContactsCompanyOverviewController","Event","_loadEvents","reload","gt","_ranges","range","from","lt","to","Events","WEEK","subtract","add","HALFMONTH","MONTH","ContactsCompanyMapController","$timeout","center","markers","company","lat","parseFloat","location","lng","lon","zoom","message","name","street","opacity","focus","ContactsCompanyFilesController","Container","FilesModals","_loadFiles","UploadFiles","AddFiles","Label","container","getFiles","Files","ContactsCompanyEditLogoController","$uibModalInstance","ModalParams","FileUploader","Save","Uploader","uploadItem","onCompleteItem","item","response","status","headers","logo","file","upsert","onAfterAddingFile","AccountService","AppUser","$q","loadAccounts","_id","getCurrentId","accounts","service","_accounts","resolve","routerHelperProvider","$locationProvider","$stateProvider","$urlRouterProvider","RouterHelper","$state","states","otherwisePath","forEach","controllerAs","extend","views","hasOtherwise","otherwise","get","$get","provider","modalHelperProvider","$uibModal","modals","_ret","obj","ModalResultComplete","ModalResultFailed","reason","reject","result","catch","configHelperProvider","ConfigHelper","notifyConfig","configName","numberFixedLen","a","b","slice","join","array","separator","fromNow","fileicon","_icons","application/pdf","application/powerpoint","application/x-msword","application/x-msexcel","application/x-mspowerpoint","audio/x-mpeg-3","image/gif","image/png","image/tiff","image/jpeg","video/avi","video/mpeg","video/msvideo","video/quicktime","application/zip","bytes","precision","isNaN","isFinite","units","number","floor","pow","toFixed","pwCheck","require","restrict","link","scope","elem","attrs","ctrl","firstPassword","on","$apply","v","val","$","$setValidity","directive","pushMenu","$window","$document","element","_body","body","bind","innerWidth","screenSizes","sm","hasClass","removeClass","addClass","xs","md","lg","ngThumb","helper","support","FileReader","CanvasRenderingContext2D","isFile","isObject","File","isImage","type","lastIndexOf","indexOf","template","attributes","onLoadFile","event","img","Image","onload","onLoadImage","src","target","width","height","canvas","attr","getContext","drawImage","$eval","reader","readAsDataURL","ngPrint","elemToPrint","document","getElementById","printElementId","printElement","beforePrint","afterPrint","printSection","innerHTML","window","matchMedia","mediaQueryList","addListener","mql","matches","onbeforeprint","onafterprint","domClone","cloneNode","appendChild","print","createElement","errSrc","ngSrc","$set","remove","ngConfirmClick","priority","e","confirm","stopImmediatePropagation","preventDefault","contentWrapper","wrapper","fix","window_height","innerHeight","header_height","css","AppController","$rootScope","isAuthenticated","getCurrent","_user","go","subtree","user","userResolver","account","accountsResolver","LocationConfig","html5Mode","$httpProvider","defaults","withCredentials","useXDomain","common","appRun","UsersModals","AppUsersOverviewController","SettingsModals","_loadAppUsers","users","AppUsers","UserForm","AppUserID","UserFormController","appuser","close","ChangePasswordController","toaster","prototype$updateAttributes","password","Password","pop","SettingsService","$resource","GetSettings","APP","Service","chain","rows","map","sortBy","DrewAt","reverse","GetSetting","SaveSetting","Setting","Type","save","DeleteSetting","_deleted","DeletedAt","Date","SettingsGeneralController","InvoicesOverviewController","Invoice","limit","_invoices","invoices","InvoicesInvoiceController","news","FilesAddController","Upload","uploader","onErrorItem","error","ContactsTopMenuController","ContactsModals","AddCompany","AddPerson","AddEvent","ExportImport","ContactsAddPersonController","loadCompanies","Companies","ContactsOverviewController","_getAccessed","_companies","ContactsAddCompanyController","create","_company","ref","AuthInterceptor","$injector","$cookies","responseError","rejection","localStorage","clear","AuthInterceptorConfig","interceptors","SESSIONEND","Message","Details","SIGNOUT","REGISTERED","AUTHERROR","UNAVAILABLE","LOGIN_FAILED","AuthLogoutController","logout","AuthLoginController","LoginMessages","_signMessage","toUpperCase","SignIn","Alert","login","copy","credentials","code","username","RegisterController","DashboardController","version","repository","$on","evt","redirectTo"],"mappings":"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","file":"app.min.js","sourcesContent":["(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts', [\r\n      'leaflet-directive',\r\n      'chart.js',\r\n    ]);\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .run(RoutesConfig);\r\n\r\n    /* @ngInject */\r\n    function RoutesConfig(configHelper, routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'app.contacts.company',\r\n            config: {\r\n                abstract: true,\r\n                url: \"/company/:id\",\r\n                templateUrl: 'src/contacts/company.view/_common/_layout.html',\r\n                controller: 'ContactsCompanyController',\r\n            }\r\n        }, {\r\n            state: \"app.contacts.company.overview\",\r\n            config: {\r\n                title: \"overview\",\r\n                url: \"/overview\",\r\n                templateUrl: 'src/contacts/company.view/overview/view.html',\r\n                controller: 'ContactsCompanyOverviewController',\r\n            },\r\n        }, {\r\n            state: \"app.contacts.company.persons\",\r\n            config: {\r\n                title: \"persons\",\r\n                url: \"/persons\",\r\n                templateUrl: 'src/contacts/company.view/persons/view.html',\r\n                controller: 'ContactsCompanyPersonsController',\r\n            },\r\n        }, {\r\n            state: \"app.contacts.company.events\",\r\n            config: {\r\n                title: \"events\",\r\n                url: \"/events\",\r\n                templateUrl: 'src/contacts/company.view/events/view.html',\r\n                controller: 'ContactsCompanyEventsController',\r\n            },\r\n        }, {\r\n            state: \"app.contacts.company.transactions\",\r\n            config: {\r\n                title: \"transactions\",\r\n                url: \"/transactions\",\r\n                templateUrl: 'src/contacts/company.view/transactions/view.html',\r\n                controller: 'ContactsCompanyTransactionsController',\r\n            },\r\n        }, {\r\n            state: \"app.contacts.company.files\",\r\n            config: {\r\n                title: \"files\",\r\n                url: \"/files\",\r\n                templateUrl: 'src/contacts/company.view/files/view.html',\r\n                controller: 'ContactsCompanyFilesController',\r\n            },\r\n        }, {\r\n            state: \"app.contacts.company.map\",\r\n            config: {\r\n                title: \"map\",\r\n                url: \"/map\",\r\n                templateUrl: 'src/contacts/company.view/map/view.html',\r\n                controller: 'ContactsCompanyMapController',\r\n            },\r\n        }];\r\n    }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .factory('CompanyModals', CompanyModals);\r\n\r\n    CompanyModals.$inject = ['modalHelper'];\r\n\r\n    function CompanyModals(modalHelper) {\r\n        return modalHelper.configureModals(getModals());\r\n\r\n        function getModals() {\r\n            return [{\r\n                modal: \"EditLogo\",\r\n                config: {\r\n                    templateUrl: 'src/contacts/company.view/editlogo/view.html',\r\n                    controller: \"ContactsCompanyEditLogoController\",\r\n                    size: \"md\",\r\n                }\r\n            }];\r\n        }\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyController\", ContactsCompanyController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyController($stateParams, Company, CompanyTabs, CompanyModals) {\r\n    var vm = this;\r\n\r\n    vm.Tabs = CompanyTabs;\r\n\r\n    vm.EditLogo = EditLogo;\r\n\r\n    vm.Print = function() {\r\n      var docDefinition = {\r\n        content: 'ελλάδα Ά an sample PDF printed with pdfMakeThis is an sample PDF printed with pdfMakeThis is an sample PDF printed with pdfMake'\r\n      };\r\n      // or become pretty complex (having multi-level tables, images, lists, paragraphs, margins, styles etc...).\r\n      //\r\n      // As soon as you have the document-definition-object, you're ready to create and open/print/download the PDF:\r\n\r\n      // open the PDF in a new window\r\n      pdfMake.createPdf(docDefinition).open();\r\n\r\n      // print the PDF (temporarily Chrome-only)\r\n      // pdfMake.createPdf(docDefinition).print();\r\n\r\n      // download the PDF (temporarily Chrome-only)\r\n      // pdfMake.createPdf(docDefinition).download('optionalName.pdf');\r\n    }\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      vm.Company = Company.findById({\r\n        id: $stateParams.id,\r\n      });\r\n    }\r\n\r\n    function EditLogo() {\r\n      \r\n      CompanyModals\r\n        .EditLogo({\r\n          Company: vm.Company\r\n        });\r\n    }\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .constant(\"CompanyTabs\", [{\r\n            heading: {\r\n                icon: \"bars\",\r\n                title: 'Overview'\r\n            },\r\n            route: 'app.contacts.company.overview',\r\n        }, {\r\n            heading: {\r\n                icon: \"money\",\r\n                class: \"hidden-xs\",\r\n                title: 'Transactions'\r\n            },\r\n            route: 'app.contacts.company.transactions',\r\n        }, {\r\n            heading: {\r\n                icon: \"files-o\",\r\n                class: \"hidden-xs\",\r\n                title: 'Files'\r\n            },\r\n            route: 'app.contacts.company.files',\r\n        }, {\r\n            heading: {\r\n                icon: \"map-o\",\r\n                class: \"hidden-xs\",\r\n                title: 'Map'\r\n            },\r\n            route: 'app.contacts.company.map',\r\n        }]);\r\n\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyTransactionsController\", ContactsCompanyTransactionsController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyTransactionsController(\r\n    $stateParams,\r\n    Transaction,\r\n    DataFilters,\r\n    ChartGroups) {\r\n\r\n    var vm = this;\r\n\r\n    vm.filter = {\r\n      where: {\r\n        companyId: $stateParams.id,\r\n      },\r\n      order: \"date ASC\",\r\n    }\r\n\r\n    vm.chart = {\r\n      labels: [],\r\n      data: [\r\n        []\r\n      ],\r\n      params: {\r\n        group: \"weekly\",\r\n      },\r\n      options: {\r\n        bezierCurve: false,\r\n        datasetFill: false,\r\n      }\r\n    };\r\n\r\n    vm.params = {\r\n      filter: \"one_month\",\r\n    }\r\n\r\n    vm.DataFilters = DataFilters;\r\n    vm.ChartGroups = ChartGroups;\r\n\r\n    vm.LoadTransactions = LoadTransactions;\r\n    vm.ReloadChart = ReloadChart;\r\n    activate();\r\n\r\n    function activate() {\r\n      vm.LoadTransactions();\r\n    }\r\n\r\n    function LoadTransactions() {\r\n      vm.loading = true;\r\n\r\n      return Transaction\r\n        .find({\r\n          filter: vm.filter\r\n        })\r\n        .$promise\r\n        .then(function(data) {\r\n          var _total = 0;\r\n          _.each(data, function(transaction) {\r\n            _total += transaction.amount;\r\n            transaction.total = _total;\r\n          });\r\n          vm.Transactions = data;\r\n          vm.ReloadChart();\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n    function ReloadChart() {\r\n      console.log(vm.chart.params.group);\r\n      vm.chart.labels = [];\r\n      vm.chart.data[0] = [];\r\n      var grouped_transactions = _.groupBy(vm.Transactions, function(transaction) {\r\n        return moment(transaction.date).format(ChartGroups[vm.chart.params.group].value);\r\n      });\r\n\r\n      _.each(grouped_transactions, function(transactions, keydate) {\r\n        var _date_total = _.reduce(transactions, function(total, transaction) {\r\n          return Math.round(transaction.amount + total);\r\n        }, 0);\r\n        vm.chart.labels.push(keydate);\r\n        vm.chart.data[0].push(_date_total);\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\n  'use strict';\n\n  angular\n    .module('app.contacts')\n    .constant(\"DataFilters\", {\n      one_month: {\n        alias: \"one_month\",\n        label: \"+-1 Month\",\n        value: {\n          // date\n        },\n      },\n      three_months: {\n        alias: \"three_months\",\n        label: \"+-3 Months\",\n        value: {\n          // date\n        },\n      },\n      all: {\n        alias: \"all\",\n        label: \"All Transactions\",\n        value: false,\n      }\n    })\n    .constant(\"ChartGroups\", {\n      daily: {\n        alias: \"daily\",\n        label: \"Daily\",\n        value: \"DD/MM/YYYY\",\n      },\n      weekly: {\n        alias: \"weekly\",\n        label: \"Weekly\",\n        value: \"[W]ww MM/YYYY\",\r\n      },\n      monthly: {\n        alias: \"monthly\",\n        label: \"Monthly\",\n        value: \"MM/YYYY\",\n      }\n    })\n\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyPersonsController\", ContactsCompanyPersonsController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyPersonsController($stateParams,Person) {\r\n    var vm = this;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      _loadPersons();\r\n    }\r\n\r\n    function _loadPersons() {\r\n      vm.loading = true;\r\n      return Person\r\n        .find({\r\n          filter: {\r\n            where: {\r\n              companyId: $stateParams.id,\r\n            },\r\n            order: \"fullname ASC\",\r\n          }\r\n        })\r\n        .$promise\r\n        .then(function(data) {\r\n          vm.Persons = data;\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller(\"ContactsCompanyOverviewController\", ContactsCompanyOverviewController);\r\n\r\n    /* @ngInject */\r\n    function ContactsCompanyOverviewController($stateParams, Event) {\r\n\r\n        var vm = this;\r\n\r\n        vm.reload = reload;\r\n\r\n        vm.params = {\r\n            range: \"WEEK\",\r\n        };\r\n\r\n        var _ranges = {\r\n            \"WEEK\": {\r\n                from: moment().subtract(7, \"days\"),\r\n                to: moment().add(7, \"days\"),\r\n            },\r\n            \"HALFMONTH\": {\r\n                from: moment().subtract(15, \"days\"),\r\n                to: moment().add(15, \"days\"),\r\n            },\r\n            \"MONTH\": {\r\n                from: moment().subtract(1, \"month\"),\r\n                to: moment().add(1, \"month\"),\r\n            }\r\n        };\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            _loadEvents();\r\n        }\r\n\r\n        function reload() {\r\n            activate();\r\n        }\r\n\r\n        function _loadEvents() {\r\n            vm.loading = true;\r\n            return Event\r\n                .find({\r\n                    filter: {\r\n                        where: {\r\n                            date: {\r\n                                gt: _ranges[vm.params.range].from,\r\n                                lt: _ranges[vm.params.range].to,\r\n                            },\r\n                            companyId: $stateParams.id,\r\n                        },\r\n                        order: \"date DESC\",\r\n                    }\r\n                })\r\n                .$promise\r\n                .then(function(data) {\r\n                    vm.Events = data;\r\n                })\r\n                .finally(function() {\r\n                    vm.loading = false;\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyMapController\", ContactsCompanyMapController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyMapController($stateParams, Company, $timeout) {\r\n    var vm = this;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n\r\n      vm.loading = true;\r\n\r\n      vm.center = {};\r\n      vm.markers = {};\r\n\r\n      Company.findById({\r\n          id: $stateParams.id,\r\n        })\r\n        .$promise\r\n        .then(function(company) {\r\n          vm.Company = company;\r\n\r\n          $timeout(function() {\r\n\r\n            vm.center = {\r\n              lat: parseFloat(company.location.lat),\r\n              lng: parseFloat(company.location.lon),\r\n              zoom: 14,\r\n            };\r\n            vm.markers = {\r\n              company: {\r\n                message: company.name + \"<br/><small>\" + vm.Company.location.street + \"</small>\",\r\n                lat: parseFloat(company.location.lat),\r\n                lng: parseFloat(company.location.lon),\r\n                opacity: 0.8,\r\n                focus: true,\r\n              }\r\n            };\r\n\r\n            vm.loading = false;\r\n\r\n          }, 1000);\r\n\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyFilesController\", ContactsCompanyFilesController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyFilesController($stateParams, Container, FilesModals) {\r\n    var vm = this;\r\n\r\n    vm.container = $stateParams.id;\r\n    vm.UploadFiles = UploadFiles;\r\n    // vm.Download = Download;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      _loadFiles();\r\n    }\r\n\r\n    function UploadFiles() {\r\n      FilesModals\r\n        .AddFiles({\r\n          Label: \"Company\",\r\n          Container: vm.container\r\n        })\r\n        .then(function() {\r\n          _loadFiles();\r\n        });\r\n    }\r\n\r\n    //\r\n    // function Download(file) {\r\n    //   Container\r\n    //     .download({\r\n    //       container: vm.container,\r\n    //       file: file,\r\n    //     })\r\n    //     .$promise\r\n    //     .then(function(data) {\r\n    //       console.log(data);\r\n    //     });\r\n    // }\r\n\r\n    function _loadFiles() {\r\n      vm.loading = true;\r\n      return Container\r\n        .getFiles({\r\n          container: vm.container,\r\n        })\r\n        .$promise\r\n        .then(function(data) {\r\n          vm.Files = data;\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsCompanyEditLogoController\", ContactsCompanyEditLogoController);\r\n\r\n  /* @ngInject */\r\n  function ContactsCompanyEditLogoController($uibModalInstance, ModalParams, Company, FileUploader) {\r\n    var vm = this;\r\n\r\n    vm.Company = ModalParams.Company;\r\n    vm.Uploader = new FileUploader({\r\n      vm: vm,\r\n      url: '/api/Containers/' + vm.Company.id + '/upload',\r\n    });\r\n    vm.Uploader.onCompleteItem = function(item, response, status, headers) {\r\n      vm.Company.logo = '/api/Containers/' + vm.Company.id + '/download/' + item.file.name;\r\n      Company.upsert(vm.Company);\r\n    };\r\n    vm.Uploader.onAfterAddingFile = function(item) {\r\n      // console.info('After adding a file', item);\r\n      // console.info(vm.Uploader.queue);\r\n    };\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n\r\n    function Upload() {}\r\n\r\n\r\n    function activate() {\r\n\r\n    }\r\n\r\n    function Save() {\r\n      vm.Uploader.uploadItem(0);\r\n    }\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common', []);\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app._common')\r\n        .factory('AccountService', AccountService);\r\n\r\n    /* @ngInject */\r\n    function AccountService(AppUser, $q) {\r\n\r\n        var service = {\r\n            _accounts: [],\r\n\r\n            loadAccounts: loadAccounts,\r\n        };\r\n\r\n        return service;\r\n\r\n        function loadAccounts() {\r\n\r\n            var _id = AppUser.getCurrentId();\r\n            // $q.resolve();\r\n            if (!_id) {\r\n                return $q.resolve();\r\n            }\r\n\r\n            return AppUser\r\n                .accounts({\r\n                    id: _id\r\n                })\r\n                .$promise\r\n                .then(function (accounts) {\r\n                    service._accounts = accounts;\r\n                });\r\n        }\r\n    }\r\n\r\n} ());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .provider('routerHelper', routerHelperProvider);\r\n\r\n  /* @ngInject */\r\n  function routerHelperProvider($locationProvider, $stateProvider, $urlRouterProvider) {\r\n    /* jshint validthis:true */\r\n    this.$get = RouterHelper;\r\n\r\n    // $locationProvider.html5Mode(true);\r\n\r\n    RouterHelper.$inject = ['$state'];\r\n\r\n    function RouterHelper($state) {\r\n      var hasOtherwise = false;\r\n\r\n      var service = {\r\n        configureStates: configureStates,\r\n        getStates: getStates\r\n      };\r\n\r\n      return service;\r\n\r\n      function configureStates(states, otherwisePath) {\r\n        states.forEach(function(state) {\r\n\r\n          var config = {\r\n            controllerAs: 'vm',\r\n          };\r\n\r\n          angular.extend(config, state.config);\r\n\r\n          if (config.views) {\r\n            _.each(config.views, function(item) {\r\n              item.controllerAs = 'vm';\r\n            });\r\n          }\r\n\r\n          $stateProvider.state(state.state, config);\r\n        });\r\n        if (otherwisePath && !hasOtherwise) {\r\n          hasOtherwise = true;\r\n          $urlRouterProvider.otherwise(otherwisePath);\r\n        }\r\n      }\r\n\r\n      function getStates() {\r\n        return $state.get();\r\n      }\r\n    }\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .provider('modalHelper', modalHelperProvider);\r\n\r\n  /* @ngInject */\r\n  function modalHelperProvider() {\r\n    /* jshint validthis:true */\r\n    this.$get = modalHelper;\r\n\r\n    /* @ngInject */\r\n    function modalHelper($uibModal, $q) {\r\n\r\n      var service = {\r\n        configureModals: configureModals\r\n      };\r\n\r\n      return service;\r\n\r\n      function configureModals(modals) {\r\n        var _ret = {};\r\n        angular.forEach(modals, function(modal) {\r\n          _ret[modal.modal] = function(obj) {\r\n            var config = {\r\n              controllerAs: 'vm',\r\n              resolve: {\r\n                ModalParams: function() {\r\n                  return obj || {};\r\n                }\r\n              }\r\n            };\r\n            angular.extend(config, modal.config);\r\n\r\n            return $uibModal\r\n              .open(config)\r\n              .result\r\n              .then(ModalResultComplete)\r\n              .catch(ModalResultFailed);\r\n\r\n            function ModalResultComplete(response) {\r\n              return response;\r\n            }\r\n\r\n            function ModalResultFailed(reason) {\r\n              if (reason && reason !== \"backdrop click\") {\r\n                return $q.reject();\r\n              }\r\n            }\r\n          };\r\n        });\r\n        return _ret;\r\n      }\r\n    }\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .provider('configHelper', configHelperProvider);\r\n\r\n  /* @ngInject */\r\n  function configHelperProvider() {\r\n    /* jshint validthis:true */\r\n    this.$get = ConfigHelper;\r\n\r\n    // $locationProvider.html5Mode(true);\r\n\r\n    ConfigHelper.$inject = [];\r\n\r\n    function ConfigHelper() {\r\n\r\n      var service = {\r\n        notifyConfig: notifyConfig\r\n      };\r\n\r\n      return service;\r\n\r\n      //function notifyConfig() {}\r\n      function notifyConfig(configName, message) {\r\n        message = message || {};\r\n        console.log(\"%c CONFIG - \" + configName + \" \", 'background: #9C27B0; color: #FFF', message);\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .filter('numberFixedLen', numberFixedLen)\r\n\r\n  /* @ngInject */\r\n  function numberFixedLen() {\r\n    return function(a, b) {\r\n      return (1e4 + a + \"\").slice(-b)\r\n    }\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .filter('join', join)\r\n\r\n  /* @ngInject */\r\n  function join() {\r\n    return function(array, separator) {\r\n      if (!array) {\r\n        return '';\r\n      }\r\n      if (!separator) {\r\n        separator = ', ';\r\n      }\r\n      return array.join(separator);\r\n    };\r\n  }\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .filter('fromNow', fromNow)\r\n\r\n  /* @ngInject */\r\n  function fromNow() {\r\n    return function(date) {\r\n      return moment(date).fromNow();\r\n    }\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .filter('fileicon', fileicon)\r\n\r\n  /* @ngInject */\r\n  function fileicon() {\r\n    var _icons = {\r\n      \"application/pdf\": \"fa-file-pdf-o\",\r\n      \"application/powerpoint\": \"fa-file-powerpoint-o\",\r\n      \"application/x-msword\": \"fa-file-word-o\",\r\n      \"application/x-msexcel\": \"fa-file-excel-o\",\r\n      \"application/x-mspowerpoint\": \"fa-file-powerpoint-o\",\r\n      \"audio/x-mpeg-3\": \"fa-file-audio-o\",\r\n      \"image/gif\": \"fa-file-image-o\",\r\n      \"image/png\": \"fa-file-image-o\",\r\n      \"image/tiff\": \"fa-file-image-o\",\r\n      \"image/jpeg\": \"fa-file-image-o\",\r\n      \"video/avi\": \"fa-file-video-o\",\r\n      \"video/mpeg\": \"fa-file-video-o\",\r\n      \"video/msvideo\": \"fa-file-video-o\",\r\n      \"video/quicktime\": \"fa-file-video-o\",\r\n      \"application/zip\": \"fa-file-zip-o\"\r\n    };\r\n    return function(a) {\r\n      return _icons[a] || \"fa-file-o\";\r\n    }\r\n  }\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .filter('bytes', bytes)\r\n\r\n  /* @ngInject */\r\n  function bytes() {\r\n    return function(bytes, precision) {\r\n      if (isNaN(parseFloat(bytes)) || !isFinite(bytes)) return '-';\r\n      if (bytes === 0) return 'Empty';\r\n      if (typeof precision === 'undefined') precision = 1;\r\n      var units = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB'],\r\n        number = (Math.floor(Math.log(bytes) / Math.log(1024)));\r\n      return (bytes / Math.pow(1024, Math.floor(number))).toFixed(precision) + ' ' + units[number];\r\n    }\r\n  }\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .directive('pwCheck', pwCheck)\r\n\r\n  /* @ngInject */\r\n  function pwCheck() {\r\n    return {\r\n      require: 'ngModel',\r\n      restrict: 'A',\r\n      link: function(scope, elem, attrs, ctrl) {\r\n        var firstPassword = '#' + attrs.pwCheck;\r\n        elem.add(firstPassword).on('keyup', function() {\r\n          scope.$apply(function() {\r\n            var v = elem.val() === $(firstPassword).val();\r\n            ctrl.$setValidity('pwmatch', v);\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app._common')\r\n        .directive('pushMenu', pushMenu);\r\n\r\n    pushMenu.$inject = ['$window', '$document'];\r\n\r\n    function pushMenu($window, $document) {\r\n\r\n        var screenSizes = {\r\n            xs: 480,\r\n            sm: 768,\r\n            md: 992,\r\n            lg: 1200\r\n        };\r\n\r\n        var directive = {\r\n            restrict: \"A\",\r\n            link: link\r\n        };\r\n\r\n        return directive;\r\n\r\n        function link(scope, element, attrs) {\r\n\r\n            var _body = angular.element($document[0].body);\r\n\r\n            element.bind(\"click\", function() {\r\n\r\n                if ($window.innerWidth > (screenSizes.sm - 1)) {\r\n                    if (_body.hasClass('sidebar-collapse')) {\r\n                        _body\r\n                            .removeClass('sidebar-collapse');\r\n                    } else {\r\n                        _body\r\n                            .addClass('sidebar-collapse');\r\n                    }\r\n                } else {\r\n                    if (_body.hasClass('sidebar-open')) {\r\n                        _body\r\n                            .removeClass('sidebar-open')\r\n                            .removeClass('sidebar-collapse');\r\n                    } else {\r\n                        _body\r\n                            .addClass('sidebar-open');\r\n                    }\r\n                }\r\n\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .directive('ngThumb', ngThumb);\r\n\r\n  /* @ngInject */\r\n  function ngThumb($window) {\r\n    var helper = {\r\n      support: !!($window.FileReader && $window.CanvasRenderingContext2D),\r\n      isFile: function(item) {\r\n        return angular.isObject(item) && item instanceof $window.File;\r\n      },\r\n      isImage: function(file) {\r\n        var type = '|' + file.type.slice(file.type.lastIndexOf('/') + 1) + '|';\r\n        return '|jpg|png|jpeg|bmp|gif|'.indexOf(type) !== -1;\r\n      }\r\n    };\r\n\r\n    return {\r\n      restrict: 'A',\r\n      template: '<canvas/>',\r\n      link: function(scope, element, attributes) {\r\n        if (!helper.support) {\r\n          console.log(\"ngThumb: FileReader not supported\");\r\n          return;\r\n        }\r\n\r\n\r\n        var params = scope.$eval(attributes.ngThumb);\r\n\r\n        console.log(\"ngThumb: params\", params);\r\n        if (!helper.isFile(params.file)) {\r\n          console.log(\"ngThumb: params.file is not a file\");\r\n          return;\r\n        }\r\n\r\n        if (!helper.isImage(params.file)) {\r\n          console.log(\"ngThumb: params.file is not an image\");\r\n          return;\r\n        }\r\n\r\n        var canvas = element.find('canvas');\r\n        var reader = new FileReader();\r\n\r\n        reader.onload = onLoadFile;\r\n        reader.readAsDataURL(params.file);\r\n\r\n        function onLoadFile(event) {\r\n          var img = new Image();\r\n          img.onload = onLoadImage;\r\n          img.src = event.target.result;\r\n        }\r\n\r\n        function onLoadImage() {\r\n          var width = params.width || this.width / this.height * params.height;\r\n          var height = params.height || this.height / this.width * params.width;\r\n          canvas.attr({\r\n            width: width,\r\n            height: height\r\n          });\r\n          canvas[0].getContext('2d').drawImage(this, 0, 0, width, height);\r\n        }\r\n      }\r\n    };\r\n  }\r\n})();\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .directive('ngPrint', ngPrint)\r\n\r\n  /* @ngInject */\r\n  function ngPrint() {\r\n    var printSection = document.getElementById('printSection');\r\n    // if there is no printing section, create one\r\n    if (!printSection) {\r\n      printSection = document.createElement('div');\r\n      printSection.id = 'printSection';\r\n      document.body.appendChild(printSection);\r\n    }\r\n\r\n    function link(scope, element, attrs) {\r\n\r\n      element.on('click', function() {\r\n        var elemToPrint = document.getElementById(attrs.printElementId);\r\n        if (elemToPrint) {\r\n          printElement(elemToPrint);\r\n        }\r\n      });\r\n\r\n      var beforePrint = function() {\r\n        console.log('Functionality to run before printing.');\r\n      };\r\n      var afterPrint = function() {\r\n        console.log('Functionality to run after printing');\r\n        printSection.innerHTML = '';\r\n      };\r\n\r\n      if (window.matchMedia) {\r\n        var mediaQueryList = window.matchMedia('print');\r\n        mediaQueryList.addListener(function(mql) {\r\n          if (mql.matches) {\r\n            beforePrint();\r\n          } else {\r\n            afterPrint();\r\n          }\r\n        });\r\n      }\r\n\r\n      window.onbeforeprint = beforePrint;\r\n      window.onafterprint = afterPrint;\r\n\r\n    }\r\n\r\n    function printElement(elem) {\r\n      // clones the element you want to print\r\n      var domClone = elem.cloneNode(true);\r\n      printSection.appendChild(domClone);\r\n      window.print();\r\n    }\r\n    return {\r\n      link: link,\r\n      restrict: 'A'\r\n    };\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .directive('errSrc', errSrc)\r\n\r\n  /* @ngInject */\r\n  function errSrc() {\r\n    return {\r\n      link: function(scope, element, attrs) {\r\n        if (!attrs.ngSrc) {\r\n          attrs.$set('src', attrs.errSrc);\r\n        }\r\n\r\n        element.bind('error', function() {\r\n\r\n          if (attrs.errSrc == \"REMOVE\") {\r\n            element.remove();\r\n            return;\r\n          }\r\n          if (attrs.src != attrs.errSrc) {\r\n            attrs.$set('src', attrs.errSrc);\r\n          }\r\n        });\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .directive('ngConfirmClick', ngConfirmClick)\r\n\r\n  /* @ngInject */\r\n  function ngConfirmClick() {\r\n    return {\r\n      priority: -1,\r\n      restrict: 'A',\r\n      link: function(scope, element, attrs){\r\n        element.bind('click', function(e){\r\n          var message = attrs.ngConfirmClick;\r\n          if(message && !confirm(message)){\r\n            e.stopImmediatePropagation();\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n}());\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app._common')\r\n        .directive('contentWrapper', contentWrapper);\r\n\r\n    /* @ngInject */\r\n    function contentWrapper($window, $timeout) {\r\n\r\n        var directive = {\r\n            restrict: \"C\",\r\n            link: link\r\n        };\r\n\r\n        return directive;\r\n\r\n        function link(scope, wrapper, attrs) {\r\n\r\n            fix(wrapper);\r\n\r\n            angular.element($window)\r\n                .bind('resize', function () {\r\n                    fix(wrapper);\r\n                });\r\n\r\n        }\r\n\r\n        function fix(element) {\r\n            var window_height = window.innerHeight;\r\n            var header_height = 35;\r\n\r\n            element.css({\r\n                height: window_height - header_height + \"px\"\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n} ());\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .controller('AppController', AppController);\r\n\r\n  /* @ngInject */\r\n  function AppController($rootScope, $state, AppUser) {\r\n    var vm = this;\r\n\r\n    if (!AppUser.isAuthenticated()) {\r\n      $state.go(\"auth.login\");\r\n      return false;\r\n    }\r\n\r\n    AppUser\r\n      .getCurrent()\r\n      .$promise\r\n      .then(function (_user) {\r\n        $rootScope._user = _user;\r\n      });\r\n\r\n  }\r\n\r\n} ());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .constant(\"topmenu\", [{\r\n      name: \"States\",\r\n      link: \"#\",\r\n      subtree: [{\r\n        name: \"state 1\",\r\n        link: \"state1\"\r\n      }, {\r\n        name: \"state 2\",\r\n        link: \"state2\"\r\n      }]\r\n    }])\r\n\r\n}());\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app._common')\r\n        .run(RoutesConfig);\r\n\r\n    /* @ngInject */\r\n    function RoutesConfig(configHelper, routerHelper) {\r\n        routerHelper.configureStates(getStates(), \"/\");\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'app',\r\n            config: {\r\n                abstract: true,\r\n                resolve: {\r\n                    user: userResolver,\r\n                    account: accountsResolver,\r\n                },\r\n                templateUrl: 'src/_common/views/layout.html',\r\n                controller: 'AppController'\r\n            }\r\n        }];\r\n    }\r\n\r\n    /* @ngInject */\r\n    function userResolver(AppUser) {\r\n        return AppUser.getCurrent();\r\n    }\r\n\r\n    /* @ngInject */\r\n    function accountsResolver(user, AccountService) {\r\n        return AccountService.loadAccounts();\r\n    }\r\n\r\n} ());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .config(LocationConfig);\r\n\r\n  /* @ngInject */\r\n  function LocationConfig(configHelperProvider, $locationProvider) {\r\n    $locationProvider.html5Mode(true);\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app._common')\r\n    .config(LocationConfig);\r\n\r\n  /* @ngInject */\r\n  function LocationConfig($httpProvider) {\r\n    $httpProvider.defaults.withCredentials = true;\r\n    $httpProvider.defaults.useXDomain = true;\r\n    delete $httpProvider.defaults.headers.common['X-Requested-With'];\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users', []);\r\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users')\r\n    .run(appRun);\r\n\r\n  /* @ngInject */\r\n  function appRun(routerHelper) {\r\n    routerHelper.configureStates(getStates());\r\n  }\r\n\r\n  function getStates() {\r\n    return [{\r\n      state: 'app.users',\r\n      config: {\r\n        url: '/users',\r\n        controller: \"UsersOverviewController\",\r\n        templateUrl: 'src/users/overview/view.html',\r\n      }\r\n    }];\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users')\r\n    .factory('UsersModals', UsersModals);\r\n\r\n  UsersModals.$inject = ['modalHelper'];\r\n\r\n  function UsersModals(modalHelper) {\r\n    return modalHelper.configureModals(getModals());\r\n\r\n    function getModals() {\r\n      return [{\r\n        modal: \"ChangePassword\",\r\n        config: {\r\n          templateUrl: 'src/settings/changepassword/view.html',\r\n          controller: \"ChangePasswordController\",\r\n          size: \"sm\"\r\n        }\r\n      }, {\r\n        modal: \"UserForm\",\r\n        config: {\r\n          templateUrl: 'src/settings/user.form/view.html',\r\n          controller: \"UserFormController\",\r\n          size: \"sm\"\r\n        }\r\n      }];\r\n    }\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users')\r\n    .controller('AppUsersOverviewController', AppUsersOverviewController);\r\n\r\n  /* @ngInject */\r\n  function AppUsersOverviewController(AppUser, SettingsModals) {\r\n    var vm = this;\r\n\r\n    vm.UserForm = UserForm;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      _loadAppUsers();\r\n    }\r\n\r\n    function _loadAppUsers() {\r\n      vm.loading = true;\r\n      return AppUser\r\n        .find()\r\n        .$promise\r\n        .then(function(users) {\r\n          vm.AppUsers = users;\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n    function UserForm(AppUserID) {\r\n      SettingsModals\r\n        .UserForm({\r\n          AppUserID: AppUserID\r\n        })\r\n        .then(function() {\r\n          _loadAppUsers();\r\n        });\r\n    }\r\n\r\n  }\r\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users')\r\n    .controller(\"UserFormController\", UserFormController);\r\n\r\n  /* @ngInject */\r\n  function UserFormController($uibModalInstance, ModalParams, AppUser) {\r\n    var vm = this;\r\n\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      if (ModalParams.AppUserID) {\r\n        AppUser\r\n          .findById({\r\n            id: ModalParams.AppUserID\r\n          })\r\n          .$promise\r\n          .then(function(appuser) {\r\n            vm.AppUser = appuser;\r\n          })\r\n          .finally(function() {\r\n            vm.loading = false;\r\n          });\r\n      }\r\n\r\n    }\r\n\r\n    function Save() {\r\n      vm.loading = true;\r\n      AppUser.upsert(vm.AppUser)\r\n        .$promise\r\n        .then(function(user) {\r\n          $uibModalInstance.close();\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.users')\r\n    .controller(\"UserFormController\", UserFormController);\r\n\r\n  /* @ngInject */\r\n  function UserFormController($uibModalInstance, ModalParams, AppUser) {\r\n    var vm = this;\r\n\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      if (ModalParams.AppUserID) {\r\n        AppUser\r\n          .findById({\r\n            id: ModalParams.AppUserID\r\n          })\r\n          .$promise\r\n          .then(function(appuser) {\r\n            vm.AppUser = appuser;\r\n          })\r\n          .finally(function() {\r\n            vm.loading = false;\r\n          });\r\n      }\r\n\r\n    }\r\n\r\n    function Save() {\r\n      vm.loading = true;\r\n      AppUser.upsert(vm.AppUser)\r\n        .$promise\r\n        .then(function(user) {\r\n          $uibModalInstance.close();\r\n        })\r\n        .finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings', []);\r\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings')\r\n    .controller(\"ChangePasswordController\", ChangePasswordController);\r\n\r\n  /* @ngInject */\r\n  function ChangePasswordController($uibModalInstance, ModalParams, AppUser, toaster) {\r\n    var vm = this;\r\n\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n    function activate() {}\r\n\r\n    function Save() {\r\n      vm.loading = true;\r\n      AppUser.prototype$updateAttributes({\r\n          id: AppUser.getCurrentId(),\r\n          password: vm.Password\r\n        })\r\n        .$promise\r\n        .then(function(user) {\r\n          toaster.pop('success', \"Password Changed\");\r\n          vm.loading = false;\r\n          $uibModalInstance.close();\r\n        });\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.static', []);\r\n})();\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.static')\r\n    .run(RoutesConfig);\r\n\r\n  /* @ngInject */\r\n  function RoutesConfig(configHelper, routerHelper) {\r\n    routerHelper.configureStates(getStates());\r\n  }\r\n\r\n  function getStates() {\r\n    return [{\r\n      state: 'app.static',\r\n      config: {\r\n        abstract: true,\r\n        url: \"/stat\",\r\n        template: '<ui-view/>',\r\n      }\r\n    }, {\r\n      state: 'app.static.help',\r\n      config: {\r\n        title: 'Help',\r\n        url: \"/help\",\r\n        templateUrl: 'src/static/pages/help.html',\r\n      }\r\n    }, {\r\n      state: 'app.static.terms',\r\n      config: {\r\n        title: 'Terms of Use',\r\n        url: \"/terms\",\r\n        templateUrl: 'src/static/pages/terms.html',\r\n      }\r\n    }];\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings')\r\n    .factory('SettingsService', SettingsService);\r\n\r\n  /* @ngInject */\r\n  function SettingsService($resource) {\r\n\r\n    var service = {\r\n      GetSettings: GetSettings,\r\n      GetSetting: GetSetting,\r\n      SaveSetting: SaveSetting,\r\n      DeleteSetting: DeleteSetting,\r\n    }\r\n\r\n    return service;\r\n\r\n    function GetSettings(params) {\r\n      return $resource(APP.Service + \"_design/models/_view/Settings\")\r\n        .get()\r\n        .$promise\r\n        .then(function(data) {\r\n          return _.chain(data.rows)\r\n            .map(function(item) {\r\n              return item.value;\r\n            })\r\n            .sortBy(function(item) {\r\n              return item.DrewAt || 0;\r\n            })\r\n            .reverse()\r\n            .value();\r\n        });\r\n    }\r\n\r\n    function GetSetting(id) {\r\n      return $resource(APP.Service + id)\r\n        .get()\r\n        .$promise\r\n        .then(function(data) {\r\n          return data;\r\n        });\r\n    }\r\n\r\n    function SaveSetting(Setting) {\r\n      Setting.Type = \"Setting\";\r\n      return $resource(APP.Service)\r\n        .save(Setting)\r\n        .$promise\r\n        .then(function(data) {\r\n          return data;\r\n        });\r\n    }\r\n\r\n    function DeleteSetting(Setting) {\r\n\r\n      Setting._deleted = true;\r\n      Setting.DeletedAt = new Date();\r\n\r\n      return $resource(APP.Service)\r\n        .save(Setting)\r\n        .$promise;\r\n    }\r\n\r\n  }\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings')\r\n    .run(appRun);\r\n\r\n  /* @ngInject */\r\n  function appRun(routerHelper) {\r\n    routerHelper.configureStates(getStates());\r\n  }\r\n\r\n  function getStates() {\r\n    return [{\r\n      state: 'app.settings',\r\n      config: {\r\n        abstract: true,\r\n        url: '/settings',\r\n        controller: \"SettingsController\",\r\n        templateUrl: 'src/settings/_common/layout.html',\r\n      }\r\n    }, {\r\n      state: 'app.settings.general',\r\n      config: {\r\n        url: '/general',\r\n        controller: \"SettingsGeneralController\",\r\n        templateUrl: 'src/settings/general/view.html',\r\n      }\r\n    }, {\r\n      state: 'app.settings.users',\r\n      config: {\r\n        url: '/users',\r\n        controller: \"SettingsAppUsersController\",\r\n        templateUrl: 'src/settings/users/view.html',\r\n      }\r\n    }, {\r\n      state: 'app.settings.profile',\r\n      config: {\r\n        url: '/profile',\r\n        controller: \"SettingsProfileController\",\r\n        templateUrl: 'src/settings/profile/view.html',\r\n      }\r\n    }, {\r\n      state: 'app.settings.help',\r\n      config: {\r\n        url: '/help',\r\n        controller: \"SettingsHelpController\",\r\n        templateUrl: 'src/settings/help/view.html',\r\n      }\r\n    }, {\r\n      state: 'app.settings.terms',\r\n      config: {\r\n        url: '/terms',\r\n        controller: \"SettingsTermsController\",\r\n        templateUrl: 'src/settings/terms/view.html',\r\n      }\r\n    }];\r\n  }\r\n\r\n}());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings')\r\n    .factory('SettingsModals', SettingsModals);\r\n\r\n  SettingsModals.$inject = ['modalHelper'];\r\n\r\n  function SettingsModals(modalHelper) {\r\n    return modalHelper.configureModals(getModals());\r\n\r\n    function getModals() {\r\n      return [{\r\n        modal: \"ChangePassword\",\r\n        config: {\r\n          templateUrl: 'src/settings/changepassword/view.html',\r\n          controller: \"ChangePasswordController\",\r\n          size: \"sm\"\r\n        }\r\n      }, {\r\n        modal: \"UserForm\",\r\n        config: {\r\n          templateUrl: 'src/settings/user.form/view.html',\r\n          controller: \"UserFormController\",\r\n          size: \"sm\"\r\n        }\r\n      }];\r\n    }\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.settings')\r\n    .controller('SettingsGeneralController', SettingsGeneralController);\r\n\r\n  /* @ngInject */\r\n  function SettingsGeneralController() {\r\n    var vm = this;\r\n\r\n    activate();\r\n\r\n    function activate() {}\r\n\r\n  }\r\n})();\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.invoices', []);\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invoices')\r\n        .run(RoutesConfig);\r\n\r\n    /* @ngInject */\r\n    function RoutesConfig(configHelper, routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'app.invoices',\r\n            config: {\r\n                abstract: true,\r\n                url: \"/invoices\",\r\n                template: '<ui-view/>',\r\n            }\r\n        }, {\r\n            state: 'app.invoices.overview',\r\n            config: {\r\n                title: 'Invoices Dashboard',\r\n                url: \"/\",\r\n                templateUrl: 'src/invoices/overview/view.html',\r\n                controller: 'InvoicesOverviewController',\r\n            }\r\n        }, {\r\n            state: 'app.invoices.invoice',\r\n            config: {\r\n                title: 'Invoice Preview',\r\n                url: \"/\",\r\n                templateUrl: 'src/invoices/invoice/view.html',\r\n                controller: 'InvoicesInvoiceController',\r\n            }\r\n        }];\r\n    }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invoices')\r\n        .controller(\"InvoicesOverviewController\", InvoicesOverviewController);\r\n\r\n    /* @ngInject */\r\n    function InvoicesOverviewController(Invoice) {\r\n        var vm = this;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            Invoice.find({\r\n                    filter: {\r\n                        limit: 10,\r\n                        order: \"date DESC\",\r\n                    }\r\n                })\r\n                .$promise\r\n                .then(function(_invoices) {\r\n                    vm.invoices = _invoices;\r\n                })\r\n                .finally(function() {\r\n\r\n                });\r\n        }\r\n\r\n\r\n    }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.invoices')\r\n        .controller(\"InvoicesInvoiceController\", InvoicesInvoiceController);\r\n\r\n    /* @ngInject */\r\n    function InvoicesInvoiceController() {\r\n        var vm = this;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            vm.news = _.sortBy([{\r\n                \"date\": \"2015-01-01\",\r\n                \"content\": \"Tempor ut qui non mollit qui.\",\r\n                \"title\": \"ea enim veniam laboris ullamco\",\r\n                \"url\": \"http://google.com\"\r\n            }, {\r\n                \"date\": \"2015-01-01\",\r\n                \"content\": \"Officia id nulla nulla id ipsum minim.\",\r\n                \"title\": \"cillum aute deserunt labore est\",\r\n                \"url\": \"http://google.com\"\r\n            }, {\r\n                \"date\": \"2015-01-01\",\r\n                \"content\": \"Ullamco ut voluptate aliqua laboris nostrud.\",\r\n                \"title\": \"velit occaecat adipisicing tempor sit\",\r\n                \"url\": \"http://google.com\"\r\n            }, {\r\n                \"date\": \"2015-01-01\",\r\n                \"content\": \"Ipsum nisi non adipisicing ex aute veniam.\",\r\n                \"title\": \"non do ipsum et cillum\",\r\n                \"url\": \"http://google.com\"\r\n            }], 'date');\r\n        }\r\n\r\n\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.files', []);\r\n})();\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.files')\r\n    .factory('FilesModals', FilesModals);\r\n\r\n  FilesModals.$inject = ['modalHelper'];\r\n\r\n  function FilesModals(modalHelper) {\r\n    return modalHelper.configureModals(getModals());\r\n\r\n    function getModals() {\r\n      return [{\r\n        modal: \"AddFiles\",\r\n        config: {\r\n          templateUrl: 'src/files/add/view.html',\r\n          controller: \"FilesAddController\",\r\n          size:\"md\",\r\n        }\r\n      }];\r\n    }\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.files')\r\n    .controller(\"FilesAddController\", FilesAddController);\r\n\r\n  /* @ngInject */\r\n  function FilesAddController($uibModalInstance, ModalParams, FileUploader) {\r\n    var vm = this;\r\n\r\n    vm.Label = ModalParams.Label;\r\n    vm.Container = ModalParams.Container;\r\n\r\n    vm.Upload = Upload;\r\n\r\n    activate();\r\n\r\n    function activate() {}\r\n\r\n\r\n    function Upload() {}\r\n\r\n    var uploader = vm.uploader = new FileUploader({\r\n      vm: vm, // to automatically update the html. Default: $rootScope\r\n      url: '/api/containers/' + vm.Container + '/upload',\r\n      // formData: [{\r\n      //   key: 'value'\r\n      // }]\r\n    });\r\n\r\n    // ADDING FILTERS\r\n    // uploader.filters.push({\r\n    //   name: 'filterName',\r\n    //   fn: function(item, options) { // second user filter\r\n    //     console.info('filter2');\r\n    //     return true;\r\n    //   }\r\n    // });\r\n\r\n    // REGISTER HANDLERS\r\n    // --------------------\r\n    // uploader.onAfterAddingFile = function(item) {\r\n    //   console.info('After adding a file', item);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onAfterAddingAll = function(items) {\r\n    //   console.info('After adding all files', items);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onWhenAddingFileFailed = function(item, filter, options) {\r\n    //   console.info('When adding a file failed', item);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onBeforeUploadItem = function(item) {\r\n    //   console.info('Before upload', item);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onProgressItem = function(item, progress) {\r\n    //   console.info('Progress: ' + progress, item);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onProgressAll = function(progress) {\r\n    //   console.info('Total progress: ' + progress);\r\n    // };\r\n    // --------------------\r\n    // uploader.onSuccessItem = function(item, response, status, headers) {\r\n    //   console.info('Success', response, status, headers);\r\n    //   vm.$broadcast('uploadCompleted', item);\r\n    // };\r\n    // --------------------\r\n    uploader.onErrorItem = function(item, response, status, headers) {\r\n      item.error = response.error;\r\n      // console.info('Error', response, status, headers);\r\n    };\r\n    // // --------------------\r\n    // uploader.onCancelItem = function(item, response, status, headers) {\r\n    //   console.info('Cancel', response, status);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onCompleteItem = function(item, response, status, headers) {\r\n    //   console.info('Complete', response, status, headers);\r\n    // };\r\n    // // --------------------\r\n    // uploader.onCompleteAll = function() {\r\n    //   console.info('Complete all');\r\n    // };\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller(\"ContactsTopMenuController\", ContactsTopMenuController);\r\n\r\n    /* @ngInject */\r\n    function ContactsTopMenuController($state, ContactsModals) {\r\n        var vm = this;\r\n\r\n        vm.AddCompany = AddCompany;\r\n        vm.AddPerson = AddPerson;\r\n        vm.AddEvent = AddEvent;\r\n        vm.ExportImport = ExportImport;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n\r\n        }\r\n\r\n        function AddCompany() {\r\n            ContactsModals\r\n                .AddCompany()\r\n                .then(function(response) {\r\n                    $state.go(\"app.contacts.company\", {\r\n                        id: response.id\r\n                    });\r\n                });\r\n        }\r\n\r\n        function AddPerson() {\r\n            ContactsModals\r\n                .AddPerson()\r\n                .then(function(response) {\r\n                    $state.go(\"app.contacts.person\", {\r\n                        id: response.id\r\n                    });\r\n                });\r\n        }\r\n\r\n        function AddEvent() {\r\n            ContactsModals\r\n                .AddEvent()\r\n                .then(function(response) {\r\n                    $state.go(\"app.contacts.events.event\", {\r\n                        id: response.id\r\n                    });\r\n                });\r\n        }\r\n\r\n        function ExportImport() {\r\n            ContactsModals\r\n                .ExportImport()\r\n                .then(function() {});\r\n        }\r\n\r\n    }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .run(RoutesConfig);\r\n\r\n    /* @ngInject */\r\n    function RoutesConfig(configHelper, routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'app.contacts',\r\n            config: {\r\n                abstract: true,\r\n                url: \"/contacts\",\r\n                template: '<ui-view/>',\r\n            }\r\n        }, {\r\n            state: 'app.contacts.overview',\r\n            config: {\r\n                title: 'Contacts Overview',\r\n                url: \"/\",\r\n                templateUrl: 'src/contacts/overview/view.html',\r\n                controller: 'ContactsOverviewController',\r\n            }\r\n        }, {\r\n            state: 'app.contacts.person',\r\n            config: {\r\n                title: 'Person',\r\n                url: \"/person/:id\",\r\n                templateUrl: 'src/contacts/person/view.html',\r\n                controller: 'ContactsPersonController',\r\n            }\r\n        }];\r\n    }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .factory('ContactsModals', ContactsModals);\r\n\r\n    ContactsModals.$inject = ['modalHelper'];\r\n\r\n    function ContactsModals(modalHelper) {\r\n        return modalHelper.configureModals(getModals());\r\n\r\n        function getModals() {\r\n            return [{\r\n                modal: \"AddPerson\",\r\n                config: {\r\n                    templateUrl: 'src/contacts/person.add/view.html',\r\n                    controller: \"ContactsAddPersonController\",\r\n                    size: \"sm\",\r\n                }\r\n            }, {\r\n                modal: \"AddCompany\",\r\n                config: {\r\n                    templateUrl: 'src/contacts/company.add/view.html',\r\n                    controller: \"ContactsAddCompanyController\",\r\n                    size: \"sm\",\r\n                }\r\n            }, {\r\n                modal: \"AddEvent\",\r\n                config: {\r\n                    templateUrl: 'src/contacts/event.add/view.html',\r\n                    controller: \"ContactsAddEventController\",\r\n                }\r\n            }, {\r\n                modal: \"ExportImport\",\r\n                config: {\r\n                    templateUrl: 'src/contacts/exportimport/view.html',\r\n                    controller: \"ContactsExportImportController\",\r\n                }\r\n            }];\r\n        }\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsAddPersonController\", ContactsAddPersonController);\r\n\r\n  /* @ngInject */\r\n  function ContactsAddPersonController($uibModalInstance, ModalParams, Company) {\r\n    var vm = this;\r\n\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      loadCompanies();\r\n    }\r\n\r\n    function loadCompanies() {\r\n      vm.Companies = Company.find({\r\n        filter:{\r\n          order: 'name ASC',\r\n        }\r\n      });\r\n    }\r\n\r\n    function Save() {}\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.contacts')\r\n        .controller(\"ContactsOverviewController\", ContactsOverviewController);\r\n\r\n    /* @ngInject */\r\n    function ContactsOverviewController($state, Company, ContactsModals) {\r\n        var vm = this;\r\n\r\n        vm.AddCompany = AddCompany;\r\n\r\n        activate();\r\n\r\n        function activate() {\r\n            _getAccessed();\r\n        }\r\n\r\n        function _getAccessed() {\r\n            vm.loading = true;\r\n            Company.find({\r\n                    filter: {\r\n                        limit: 10,\r\n                        order: \"lastAccess DESC\",\r\n                    }\r\n                })\r\n                .$promise\r\n                .then(function(_companies) {\r\n                    vm.Companies = _companies;\r\n                })\r\n                .finally(function() {\r\n                    vm.loading = false;\r\n                });\r\n        }\r\n\r\n        function AddCompany() {\r\n            ContactsModals\r\n                .AddCompany()\r\n                .then(function(response) {\r\n                    $state.go(\"app.contacts.company\", {\r\n                        id: response.id\r\n                    });\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.contacts')\r\n    .controller(\"ContactsAddCompanyController\", ContactsAddCompanyController);\r\n\r\n  /* @ngInject */\r\n  function ContactsAddCompanyController($uibModalInstance, Company) {\r\n    var vm = this;\r\n\r\n    vm.Save = Save;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      loadCompanies();\r\n    }\r\n\r\n    function loadCompanies() {\r\n      vm.Companies = Company.find({\r\n        filter: {\r\n          order: 'name ASC',\r\n        }\r\n      });\r\n    }\r\n\r\n    function Save() {\r\n      Company\r\n        .create(vm.Company)\r\n        .$promise\r\n        .then(function(_company) {\r\n          $uibModalInstance.close(_company);\r\n        });\r\n    }\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.config', []);\r\n    \r\n})();\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.config')\r\n    .run(appRun);\r\n\r\n  /* @ngInject */\r\n  function appRun(routerHelper) {\r\n    routerHelper.configureStates(getStates());\r\n  }\r\n\r\n  function getStates() {\r\n    return [{\r\n      state: 'app.config',\r\n      config: {\r\n        url: '/config',\r\n        controller: \"ConfigController\",\r\n        templateUrl: 'src/config/_common/layout.html',\r\n      }\r\n    }];\r\n  }\r\n\r\n} ());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth', [])\r\n\r\n}());\r\n","\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth')\r\n    .run(appRun);\r\n\r\n  appRun.$inject = ['routerHelper'];\r\n\r\n  function appRun(routerHelper) {\r\n    routerHelper.configureStates(getStates());\r\n  }\r\n\r\n  function getStates() {\r\n    return [{\r\n      state: 'auth',\r\n      config: {\r\n        abstract: true,\r\n        template: '<ui-view/>',\r\n      }\r\n    }, {\r\n        state: 'auth.login',\r\n        config: {\r\n          url: '/login',\r\n          params: {\r\n            ref: null\r\n          },\r\n          templateUrl: \"src/auth/login/view.html\",\r\n          controller: \"AuthLoginController\",\r\n        }\r\n      }, {\r\n        state: 'auth.logout',\r\n        config: {\r\n          url: '/logout',\r\n          template: \"<ui-view/>\",\r\n          controller: \"AuthLogoutController\",\r\n        }\r\n      }];\r\n  }\r\n\r\n} ());\r\n","\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth')\r\n    .config(AuthInterceptorConfig)\r\n    .factory('AuthInterceptor', AuthInterceptor);\r\n\r\n  /* @ngInject */\r\n  function AuthInterceptor($q, $injector, $cookies) {\r\n\r\n    return {\r\n      responseError: function (rejection) {\r\n        console.log(\"rejection\", rejection);\r\n        if (rejection.status === 401 && rejection.config.url != \"/api/AppUsers/login\") {\r\n          localStorage.clear();\r\n          var $state = $injector.get('$state');\r\n          $state.go('auth.login', {\r\n            ref: \"SESSIONEND\"\r\n          });\r\n        }\r\n        return $q.reject(rejection);\r\n      }\r\n    };\r\n\r\n  }\r\n\r\n  /* @ngInject */\r\n  function AuthInterceptorConfig($httpProvider) {\r\n    $httpProvider.interceptors.push(\"AuthInterceptor\");\r\n  }\r\n\r\n} ());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth')\r\n    .constant('LoginMessages', {\r\n      SESSIONEND: {\r\n        Type: \"danger\",\r\n        Message: \"You were signed out\",\r\n        Details: \"Probably your session was timed out\",\r\n      },\r\n      SIGNOUT: {\r\n        Type: \"success\",\r\n        Message: \"You were signed out\",\r\n        Details: \"You may login again using the form\",\r\n      },\r\n      REGISTERED: {\r\n        Type: \"success\",\r\n        Message: \"Your account is ready, you can login now\",\r\n        Details: false,\r\n      },\r\n      AUTHERROR: {\r\n        Type: \"danger\",\r\n        Message: \"Authentication Error\",\r\n        Details: null,\r\n      },\r\n      UNAVAILABLE: {\r\n        Type: \"danger\",\r\n        Message: \"Service is not available\",\r\n        Details: \"Please try again later. If the problem insist, contact your system administrator\",\r\n      },\r\n      LOGIN_FAILED: {\r\n        Type: \"danger\",\r\n        Message: \"Name or password is incorrect\",\r\n        Details: \"Please try again\",\r\n      },\r\n    });\r\n\r\n}());\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth')\r\n    .controller('AuthLogoutController', AuthLogoutController);\r\n\r\n  /* @ngInject */\r\n  function AuthLogoutController($state, AppUser) {\r\n    var vm = this;\r\n\r\n    AppUser\r\n      .logout()\r\n      .$promise\r\n      .then(function (_user) {\r\n        $state.go(\"auth.login\");\r\n      });\r\n\r\n  }\r\n\r\n} ());\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.auth')\r\n    .controller('AuthLoginController', AuthLoginController);\r\n\r\n  /* @ngInject */\r\n  function AuthLoginController($stateParams, $state, LoginMessages, AppUser, AccountService) {\r\n    var vm = this;\r\n\r\n    vm.loading = false;\r\n    vm.SignIn = SignIn;\r\n\r\n    vm.credentials = {\r\n      username: \"admin\",\r\n      password: \"admin\",\r\n    };\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n\r\n      if ($stateParams.ref) {\r\n        _signMessage($stateParams.ref.toUpperCase());\r\n      }\r\n    }\r\n\r\n    function SignIn() {\r\n\r\n      vm.loading = true;\r\n      vm.Alert = false;\r\n\r\n      AppUser\r\n        .login(angular.copy(vm.credentials))\r\n        .$promise\r\n        .then(function (response) {\r\n\r\n          AccountService\r\n            .loadAccounts()\r\n            .then(function () {\r\n              $state.go(\"app.dashboard\");\r\n            });\r\n\r\n        }, function (rejection) {\r\n          vm.credentials.password = null;\r\n          vm.loading = false;\r\n          _signMessage(rejection.data.error.code.toUpperCase());\r\n        });\r\n    }\r\n\r\n    function _signMessage(code) {\r\n      vm.Alert = LoginMessages[code];\r\n    }\r\n\r\n  }\r\n\r\n} ());\r\n","\r\n(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.register', [])\r\n\r\n}());\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.register')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'register',\r\n            config: {\r\n                url: '/register',\r\n                templateUrl: \"src/register/view.html\",\r\n                controller: \"RegisterController\",\r\n            }\r\n        }];\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.register')\r\n    .controller('RegisterController', RegisterController);\r\n\r\n  /* @ngInject */\r\n  function RegisterController() {\r\n    var vm = this;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n\r\n    }\r\n\r\n  }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.dashboard', []);\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.dashboard')\r\n        .run(RoutesConfig);\r\n\r\n    /* @ngInject */\r\n    function RoutesConfig(configHelper, routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [{\r\n            state: 'app.dashboard',\r\n            config: {\r\n                title: 'Dashboard',\r\n                url: \"/\",\r\n                templateUrl: 'src/dashboard/view.html',\r\n                controller: 'DashboardController',\r\n            }\r\n        }];\r\n    }\r\n\r\n}());\r\n","(function() {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app.dashboard')\r\n    .controller(\"DashboardController\", DashboardController);\r\n\r\n  /* @ngInject */\r\n  function DashboardController() {\r\n    var vm = this;\r\n\r\n    activate();\r\n\r\n    function activate() {\r\n      vm.news = _.sortBy([{\r\n        \"date\": \"2015-01-01\",\r\n        \"content\": \"Tempor ut qui non mollit qui.\",\r\n        \"title\": \"ea enim veniam laboris ullamco\",\r\n        \"url\": \"http://google.com\"\r\n      }, {\r\n        \"date\": \"2015-01-01\",\r\n        \"content\": \"Officia id nulla nulla id ipsum minim.\",\r\n        \"title\": \"cillum aute deserunt labore est\",\r\n        \"url\": \"http://google.com\"\r\n      }, {\r\n        \"date\": \"2015-01-01\",\r\n        \"content\": \"Ullamco ut voluptate aliqua laboris nostrud.\",\r\n        \"title\": \"velit occaecat adipisicing tempor sit\",\r\n        \"url\": \"http://google.com\"\r\n      }, {\r\n        \"date\": \"2015-01-01\",\r\n        \"content\": \"Ipsum nisi non adipisicing ex aute veniam.\",\r\n        \"title\": \"non do ipsum et cillum\",\r\n        \"url\": \"http://google.com\"\r\n      }], 'date');\r\n    }\r\n\r\n\r\n  }\r\n\r\n}());\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular.module('app', [\r\n\r\n    'ngResource',\r\n    'ngSanitize',\r\n    'ngCookies',\r\n    'ui.bootstrap',\r\n    'ui.router',\r\n    'ui.router.tabs',\r\n    'ui.navbar',\r\n    'angularFileUpload',\r\n\r\n    'lbServices',\r\n\r\n    'app.register',\r\n    'app.users',\r\n    'app.auth',\r\n    'app.contacts',\r\n    'app.dashboard',\r\n    'app.files',\r\n    'app.settings',\r\n    'app.static',\r\n    'app.invoices',\r\n    'app.config',\r\n    'app._common',\r\n  ]);\r\n\r\n} ());\r\n","\r\n(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app')\r\n    .run(appRun);\r\n\r\n  /* @ngInject */\r\n  function appRun($rootScope, $state, $stateParams) {\r\n\r\n    $rootScope.APP = {\r\n      version: \"0.2\",\r\n      repository: \"https://github.com/ChristosGeorgiou/balance.git\",\r\n    };\r\n\r\n\r\n    $rootScope.$on('$stateChangeStart', function (evt, to, params) {\r\n\r\n      $rootScope.title = to.title;\r\n\r\n      if (to.redirectTo) {\r\n        evt.preventDefault();\r\n        $state.go(to.redirectTo, params);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n} ());\r\n"],"sourceRoot":"/source/"}