<app-content [box]="true">
  <section role="title">Remote Configuration</section>
  <section>
    <h4>Server</h4>
    <p> User the <b>Balnc Server</b> to enchanse features and activate intergrations. </p>
    <ul>
      <li>Enable intergrations</li>
      <li>Enable automations</li>
    </ul>
    <div class="form-group">
      <select [(ngModel)]="serverConfig.type" class="form-control">
        <option [ngValue]="null">Server Disabled - Data are stored in browser storage (small dataset)</option>
        <option value="local" disabled>Desktop app - Data are stored in server running in your pc (large dataset)
        </option>
        <option value="remote">Remote Server - Data re stored in remote server owned by you (large dataset)</option>
      </select>
    </div>
    <div class="form-group input-group">
      <div class="input-group-prepend">
        <span class="input-group-text" id="prefixId">Host</span>
      </div>
      <input [disabled]="!workspace.server?.type" [(ngModel)]="serverConfig.host" class="form-control"
        placeholder="https://myhost:3100">
    </div>
    <div class="form-group">
      <button class="btn btn-primary" (click)="applyServer()">Apply Configuration</button>
    </div>
  </section>
  <section>
    <h4>Database</h4>
    <p>
      Use this feature for make real-time backup of your data and access from multiple devices.
      Some modules may require this option for them to work.
    </p>
    <div class="form-group">
      <select [(ngModel)]="dbConfig.type" class="form-control">
        <option [ngValue]="null">Disable Remote Database</option>
        <option value="couch">CouchDB / PouchDB</option>
        <option value="graphql" disabled>GraphQL (future balnc-server)</option>
      </select>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="prefixId">Host</span>
          </div>
          <input [disabled]="!workspace.db?.type" [(ngModel)]="dbConfig.host" class="form-control"
            placeholder="https://mycouch.mydomain.com:5984">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="prefixId">Database</span>
          </div>
          <input [disabled]="!workspace.db?.type" [(ngModel)]="dbConfig.key" class="form-control">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-6">
        <div class="form-group input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="prefixId">Username</span>
          </div>
          <input [disabled]="!workspace.db?.type" [(ngModel)]="dbConfig.username" class="form-control">
        </div>
      </div>
    </div>
    <div class="form-group">
      <button class="btn btn-primary" (click)="applyDb()">Apply Configuration</button>
    </div>
  </section>
</app-content>
